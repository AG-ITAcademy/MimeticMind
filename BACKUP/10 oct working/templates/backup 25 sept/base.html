<!DOCTYPE html>
<html data-bs-theme="light" lang="en-US" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ===============================================-->
    <!--    Document Title-->
    <!-- ===============================================-->
    <title>{% block title %}MimeticMind{% endblock %}</title>

    <!-- ===============================================-->
    <!--    Favicons-->
    <!-- ===============================================-->
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='assets/img/favicons/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='assets/img/favicons/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='assets/img/favicons/favicon-16x16.png') }}">
    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='assets/img/favicons/favicon.ico') }}">
    <link rel="manifest" href="{{ url_for('static', filename='assets/img/favicons/manifest.json') }}">
    <meta name="msapplication-TileImage" content="{{ url_for('static', filename='assets/img/favicons/mstile-150x150.png') }}">
    <meta name="theme-color" content="#ffffff">

    <!-- Theme Configuration -->
    <script src="{{ url_for('static', filename='assets/js/config.js') }}"></script>
    <script src="{{ url_for('static', filename='vendors/simplebar/simplebar.min.js') }}"></script>

    <!-- ===============================================-->
    <!--    Stylesheets-->
    <!-- ===============================================-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700|Poppins:300,400,500,600,700,800,900&amp;display=swap" rel="stylesheet">

    <!-- Vendor CSS -->
    <link href="{{ url_for('static', filename='vendors/simplebar/simplebar.min.css') }}" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="{{ url_for('static', filename='assets/css/theme.css') }}" rel="stylesheet" id="style-default">
    <link href="{{ url_for('static', filename='assets/css/user.css') }}" rel="stylesheet" id="user-style-default">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/custom.css') }}">

    <!-- Block for Page-Specific Styles -->
    {% block head %}{% endblock %}

</head>

<body>
    <!-- Main Content Area -->
    <main class="main" id="top">
       <div class="container" data-layout="container">
        <!--<script>
                  var isFluid = JSON.parse(localStorage.getItem('isFluid'));
                  if (isFluid) {
                    var container = document.querySelector('[data-layout]');
                    container.classList.remove('container');
                    container.classList.add('container-fluid');
                  }
         </script>-->
                
                <!-- Include Sidebar Only If User is Authenticated -->
                {% if current_user.is_authenticated %}
                    {% include '_sidebar.html' %}
                {% endif %}
                
                <!-- Page-Specific Content -->
                <div class="content">
                    {% block content %}{% endblock %}
                    
                    
                    
                    <footer class="footer">
                    <div class="row g-0 justify-content-between fs-10 mt-4 mb-3">
                      <div class="col-12 col-sm-auto text-center">
                        <p class="mb-0 text-600">MimeticMind 2024 - All rights reserved. <span class="d-none d-sm-inline-block">| </span><br class="d-sm-none" /> 2024 &copy; </p>
                      </div>
                      <div class="col-12 col-sm-auto text-center">
                        <p class="mb-0 text-600">v0.1</p>
                      </div>
                    </div>
                  </footer>
                  
                </div>
                
                
                <!-- Flash Messages Section -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                  {% if messages %}
                    <ul class="flashes">
                      {% for category, message in messages %}
                        <li class="alert alert-{{ category }}">{{ message }}</li>
                      {% endfor %}
                    </ul>
                  {% endif %}
                {% endwith %}
        </div>
    </main>
    
    <!-- Bootstrap JS Bundle (includes Popper.js) -->
    <script src="{{ url_for('static', filename='vendors/bootstrap/bootstrap.min.js') }}"></script>

    <!-- Theme JS -->
    <script src="{{ url_for('static', filename='assets/js/theme.js') }}"></script>

    <!-- Vendor JS -->
    <script src="{{ url_for('static', filename='vendors/simplebar/simplebar.min.js') }}"></script>

    <!-- Layout TOGGLE - facut de mine -->
    <script src="{{ url_for('static', filename='js/layout-toggle.js') }}"></script>

    <!-- Additional JS -->
    {% block extra_js %}{% endblock %}

    <!-- Flash Messages Auto-Remove Script -->
    <script>
        // Automatically remove flash messages after 10 seconds
        setTimeout(function() {
            var flashes = document.querySelectorAll('.flashes li');
            flashes.forEach(function(flash) {
                flash.style.animation = "fadeOut 1s ease-out forwards";
            });
        }, 10000); // 10 seconds
    </script>
</body>
</html>
